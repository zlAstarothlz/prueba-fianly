<form (ngSubmit)="onSubmit()" [formGroup]="registerForm" class="auth-form">
  <h2 class="auth-form__title">Registrate</h2>

  <div class="example-container">
    <mat-form-field appearance="outline">
      <mat-label>Nombre Completo</mat-label>
      <input
        matInput
        placeholder="Ingrese su nombre completo"
        formControlName="name"
      />
      <mat-error *ngIf="registerForm.get('name')?.hasError('required')"
        >Este campo es requerido</mat-error
      >
    </mat-form-field>
  </div>

  <div class="example-container">
    <mat-form-field appearance="outline">
      <mat-label>ingrese email</mat-label>
      <input matInput placeholder="pat@example.com" formControlName="email" />
      <mat-error *ngIf="registerForm.get('email')?.hasError('required')"
        >Este campo es requerido</mat-error
      >
      <mat-error *ngIf="registerForm.get('email')?.hasError('pattern')"
        >Debe ser un formato de correo valido</mat-error
      >
    </mat-form-field>
  </div>

  <div class="example-container">
    <mat-form-field appearance="outline">
      <mat-label>Enter your password</mat-label>
      <input
        matInput
        [type]="hidePassword ? 'password' : 'text'"
        formControlName="password"
      />
      <button
        mat-icon-button
        matSuffix
        type="button"
        (click)="hidePassword = !hidePassword"
      >
        <mat-icon>{{
          hidePassword ? "visibility_off" : "visibility"
        }}</mat-icon>
      </button>
      <mat-error *ngIf="registerForm.get('password')?.hasError('required')"
        >Este campo es requerido</mat-error
      >
      <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')"
        >Debe contener al menos 8 caracteres</mat-error
      >
    </mat-form-field>
  </div>

  <div class="example-container">
    <mat-form-field appearance="outline">
      <mat-label>Confirm your password</mat-label>
      <input
        matInput
        [type]="hidePassword ? 'password' : 'text'"
        formControlName="confirmPassword"
      />

      <button
        mat-icon-button
        matSuffix
        type="button"
        (click)="hidePassword = !hidePassword"
      >
        <mat-error *ngIf="registerForm.hasError('passwordsMismatch')">
          Las contraseñas no coinciden.
        </mat-error>
        <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
        </mat-error>

        <mat-icon>{{
          hidePassword ? "visibility_off" : "visibility"
        }}</mat-icon>
      </button>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="fill">
      <mat-label>Choose a date</mat-label>
      <input
        matInput
        [min]="minDate"
        [max]="maxDate"
        [matDatepicker]="picker"
        formControlName="dateBirth"
        readonly
      />
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker"
      ></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="registerForm.get('dateBirth')?.hasError('required')">
        Este campo es requerido
      </mat-error>
    </mat-form-field>
  </div>

  <div>
    <div>
      <h3>Selecciona tu genero:</h3>
    </div>
    <mat-radio-group formControlName="gender" (ngSubmit)="onSubmit()">
      <mat-radio-button
        class="example-radio-button"
        *ngFor="let gender of genders"
        [value]="gender.value"
      >
        {{ gender.text }}
      </mat-radio-button>
    </mat-radio-group>
    <mat-error
      *ngIf="registerForm.get('gender')?.hasError('required') && submitted"
    >
      Debes seleccionar una opción
    </mat-error>
  </div>

  <div>
    <h3>Selecciona tus intereses:</h3>
    <div *ngFor="let interest of interests">
      <mat-checkbox
        [checked]="isSelected(interest.value)"
        (change)="onCheckboxChange($event, interest)"
      >
        {{ interest.text }}
      </mat-checkbox>
    </div>
    <mat-error
      *ngIf="registerForm.get('interests')?.hasError('required') && submitted"
    >
      Debes seleccionar una opción
    </mat-error>

    <mat-form-field class="mt-4" appearance="fill">
      <mat-label>Agregar interés personalizado</mat-label>
      <input
        matInput
        [formControl]="customInterestCtrl"
        (keyup.enter)="addCustomInterest()"
      />
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="addCustomInterest()">
      Agregar
    </button>
  </div>

  <button mat-raised-button type="submit">Registrar</button>

  <button mat-raised-button type="submit" (click)="goToLogin()">
    Iniciar sesión
  </button>
</form>
